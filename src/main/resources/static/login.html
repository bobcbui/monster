<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title></title>
	<meta name="viewport" content="width=device-width,initial-scale=1.0">
	<script src="https://cdn.bootcdn.net/ajax/libs/vue/3.2.41/vue.global.js"></script>
	<script src="https://cdn.bootcdn.net/ajax/libs/vue-router/4.1.5/vue-router.global.js"></script>
	<script src="https://cdn.bootcdn.net/ajax/libs/vuex/4.1.0/vuex.global.js"></script>
	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
	<style>
		body {
			margin: 0
		}

		html,
		body,
		#app {
			height: 100%;
		}

		*,
		*::before,
		*::after {
			box-sizing: border-box;
		}

		input {
			border: 1px solid black;
		}
	</style>
</head>

<body>
	<div id="app">
		<div style="margin: auto;width:200px">
			<p>密码：</p>
			<input type="text" v-model="loginForm.username" placeholder="用户名">
			<p>用户名：</p>
			<input type="password" v-model="loginForm.password" placeholder="密码" />
			<br><br>
			<button @click="login()">登录</button>
		</div>
	</div>
</body>
<script type="module">
	const app = {
		data() {
			return {
				loginForm: {

				}
			}
		},
		mounted() {

		},
		methods: {
			login() {
				axios({
					method: 'post',
					url: '/api/authenticate',
					data: this.loginForm,
				}).then(response => {
					localStorage.setItem("token", response.data)
				}).catch(function (error) {
					console.log(error);
				});
			}
		}
	}

	
const request = axios.create({
    baseURL: import.meta.env.VITE_BASE_API,
    timeout: 30000
});

axios.interceptors.request.use(function (config) {
    config.headers.Token = localStorage.getItem("token")
    alert("")
    return config;
}, function (error) {
    return Promise.reject(error);
});

	Vue.createApp(app).mount('#app')
</script>

</html>