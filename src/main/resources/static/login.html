<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title></title>
	<meta name="viewport" content="width=device-width,initial-scale=1.0">
	<script src="https://cdn.bootcdn.net/ajax/libs/vue/3.2.41/vue.global.js"></script>
	<script src="https://cdn.bootcdn.net/ajax/libs/vue-router/4.1.5/vue-router.global.js"></script>
	<script src="https://cdn.bootcdn.net/ajax/libs/vuex/4.1.0/vuex.global.js"></script>
	<script src="https://cdn.bootcdn.net/ajax/libs/axios/1.1.3/axios.min.js"></script>
	<style>
		body {
			margin: 0
		}

		html,
		body,
		#app {
			height: 100%;
		}

		*,
		*::before,
		*::after {
			box-sizing: border-box;
		}

		input {
			border: 1px solid black;
		}
	</style>
</head>

<body>
	<div id="app">
		<div style="margin: auto;width:200px">
			<p>密码：</p>
			<input type="text" style="width: 100px;" v-model="loginForm.username" placeholder="用户名">
			<p>用户名：</p>
			<input type="password" style="width: 100px;" v-model="loginForm.password" placeholder="密码" />
			<br><br>
			<button style="width: 100px;" @click="login()">登录</button>
			<br>
			<a href="/register.html">注册</a>
		</div>
	</div>
</body>
<script type="module">
	const app = {
		data() {
			return {
				loginForm: {

				}
			}
		},
		mounted() {

		},
		methods: {
			login() {
				axios({
					method: 'post',
					url: '/authenticate',
					data: this.loginForm,
				}).then(response => {
					localStorage.setItem("token", response.data)
					location.href = '/index.html'
				}).catch(function (error) {
					console.log(error);
				});
			}
		}
	}
	Vue.createApp(app).mount('#app')
</script>

</html>